/** * Shared utility functions for form handling *//** * Format a numeric price value for display with French Canadian locale * @param value - Raw input value (may contain spaces, commas, etc.) * @returns Formatted price string (e.g., "1 234,56") */export function formatPrice(value: string): string {  const rawValue = value.replace(/\s/g, "").replace(",", ".");    // Handle incomplete decimal input (e.g., "123.")  if (rawValue === "." || /^\d+\.$/.test(rawValue)) {    return rawValue.replace(".", ",");  }    const numericValue = parseFloat(rawValue);    if (isNaN(numericValue)) {    return "";  }    return numericValue    .toLocaleString("fr-CA", {      minimumFractionDigits: 0,      maximumFractionDigits: 2,    })    .replace(/\u00A0/g, " ");}/** * Parse a formatted price string to a numeric value * @param formattedPrice - Formatted price string (e.g., "1 234,56") * @returns Numeric value */export function parsePrice(formattedPrice: string): number {  const rawValue = formattedPrice.replace(/\s/g, "").replace(",", ".");  return parseFloat(rawValue) || 0;}/** * Handle image file upload and convert to base64 * @param file - File object from input * @returns Promise resolving to { fileUrl, imageBase64 } */export function handleImageUpload(  file: File): Promise<{ fileUrl: string; imageBase64: string }> {  return new Promise((resolve, reject) => {    const fileUrl = URL.createObjectURL(file);    const reader = new FileReader();        reader.onload = () => {      const imageBase64 = reader.result as string;      resolve({ fileUrl, imageBase64 });    };        reader.onerror = () => {      reject(new Error("Failed to read image file"));    };        reader.readAsDataURL(file);  });}/** * Generic error state type for forms */export type ErrorState = {  error: boolean;  message: string;};/** * Create initial error state */export function createErrorState(): ErrorState {  return {    error: false,    message: "",  };}